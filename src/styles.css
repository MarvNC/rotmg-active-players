@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400&family=Russo+One&family=Sora:wght@400;500;600;700&display=swap");
@import "tailwindcss";

@theme {
  /* Custom colors */
  --color-brand-red: #dc2828;
  --color-pill-active-bg: #dc2828;
  --color-pill-active-border: #f87171;
  --color-pill-active-shadow: rgba(220, 40, 40, 0.36);
  --color-emerald: #10b981;
  
  /* Dark theme colors */
  --color-bg-dark: #0a0a0a;
  --color-bg-radial-1: rgba(220, 40, 40, 0.22);
  --color-bg-radial-2: rgba(220, 40, 40, 0.09);
  --color-bg-gradient-start: #050505;
  --color-bg-gradient-mid: #0a0a0a;
  --color-bg-gradient-end: #080808;
  --color-surface-1: #171717;
  --color-surface-2: #262626;
  --color-surface-hover: rgba(255, 255, 255, 0.04);
  --color-text-main: #f3f4f6;
  --color-text-muted: #737373;
  --color-border-subtle: #2a2a2a;
  --color-topbar-bg: rgba(10, 10, 10, 0.74);
  --color-topbar-border: rgba(220, 40, 40, 0.25);
  --color-panel-highlight: rgba(255, 255, 255, 0.02);
  --color-stat-card-bg-start: rgba(255, 255, 255, 0.02);
  --color-stat-card-bg-end: rgba(255, 255, 255, 0);
  --color-chart-shell-border: rgba(255, 255, 255, 0.04);
  --color-chart-frame-start: #171717;
  --color-chart-frame-end: #141414;
  --color-chart-canvas-bg: transparent;
  --color-chart-button-bg: rgba(10, 10, 10, 0.82);
  --color-modal-backdrop: rgba(0, 0, 0, 0.7);
  --color-modal-surface-start: rgba(24, 24, 24, 0.98);
  --color-modal-surface-end: rgba(18, 18, 18, 0.98);
  --color-tooltip-bg: rgba(10, 10, 10, 0.95);
  --color-tooltip-border: rgba(220, 40, 40, 0.7);
  --color-cursor-line: rgba(243, 244, 246, 0.7);
  --color-timeline-track-bg: #1f1f1f;
  --color-timeline-track-border: #2b2b2b;
  --color-thumb-ring: rgba(220, 40, 40, 0.45);
  --color-data-grid-bg: #131313;
  --color-data-grid-scroll-track: #1c1c1c;
  --color-footer-bg: rgba(10, 10, 10, 0.4);
  
  /* Fonts */
  --font-sora: "Sora", sans-serif;
  --font-russo: "Russo One", sans-serif;
  --font-mono: "JetBrains Mono", monospace;
  
  /* Border radius */
  --radius-sm: 4px;
  --radius-md: 12px;
}

:root {
  color-scheme: dark;
}

:root[data-theme="light"] {
  color-scheme: light;
  --color-bg-dark: #f7f8fb;
  --color-bg-radial-1: rgba(220, 40, 40, 0.14);
  --color-bg-radial-2: rgba(220, 40, 40, 0.08);
  --color-bg-gradient-start: #ffffff;
  --color-bg-gradient-mid: #f7f8fb;
  --color-bg-gradient-end: #edf1f7;
  --color-surface-1: #ffffff;
  --color-surface-2: #d7dbe5;
  --color-surface-hover: rgba(0, 0, 0, 0.05);
  --color-pill-active-bg: #b91c1c;
  --color-pill-active-border: #ef4444;
  --color-pill-active-shadow: rgba(185, 28, 28, 0.25);
  --color-emerald: #047857;
  --color-text-main: #111827;
  --color-text-muted: #6b7280;
  --color-border-subtle: #d7dbe5;
  --color-topbar-bg: rgba(247, 248, 251, 0.9);
  --color-topbar-border: rgba(220, 40, 40, 0.18);
  --color-panel-highlight: rgba(15, 23, 42, 0.04);
  --color-stat-card-bg-start: #ffffff;
  --color-stat-card-bg-end: #ffffff;
  --color-chart-shell-border: rgba(15, 23, 42, 0.14);
  --color-chart-frame-start: #ffffff;
  --color-chart-frame-end: #ffffff;
  --color-chart-canvas-bg: #ffffff;
  --color-chart-button-bg: rgba(255, 255, 255, 0.88);
  --color-modal-backdrop: rgba(17, 24, 39, 0.35);
  --color-modal-surface-start: rgba(255, 255, 255, 0.98);
  --color-modal-surface-end: rgba(244, 247, 252, 0.98);
  --color-tooltip-bg: rgba(255, 255, 255, 0.96);
  --color-tooltip-border: rgba(220, 40, 40, 0.55);
  --color-cursor-line: rgba(15, 23, 42, 0.45);
  --color-timeline-track-bg: #e5e7eb;
  --color-timeline-track-border: #cbd5e1;
  --color-thumb-ring: rgba(220, 40, 40, 0.35);
  --color-data-grid-bg: #f9fafb;
  --color-data-grid-scroll-track: #e5e7eb;
  --color-footer-bg: rgba(243, 244, 246, 0.84);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  color: var(--color-text-main);
  font-family: var(--font-sora);
  background:
    radial-gradient(circle at 5% -20%, var(--color-bg-radial-1), transparent 35%),
    radial-gradient(circle at 95% 5%, var(--color-bg-radial-2), transparent 25%),
    linear-gradient(150deg, var(--color-bg-gradient-start) 0%, var(--color-bg-gradient-mid) 42%, var(--color-bg-gradient-end) 100%);
}

body.modal-open {
  overflow: hidden;
}

/* Skeleton animation */
.skeleton {
  border-radius: 8px;
  background: linear-gradient(90deg, var(--color-surface-1) 0%, var(--color-surface-2) 45%, var(--color-surface-1) 100%);
  background-size: 220% 100%;
  animation: skeleton-pulse 1.2s ease-in-out infinite;
}

@keyframes skeleton-pulse {
  from {
    background-position: 100% 50%;
  }
  to {
    background-position: 0 50%;
  }
}

/* Card enter animation */
@keyframes card-enter {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Range slider thumb styling */
.timeline-thumb::-webkit-slider-thumb {
  pointer-events: auto;
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid #ffffff;
  background: var(--color-brand-red);
  box-shadow: 0 0 0 2px var(--color-thumb-ring);
  cursor: ew-resize;
}

.timeline-thumb::-moz-range-thumb {
  pointer-events: auto;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid #ffffff;
  background: var(--color-brand-red);
  box-shadow: 0 0 0 2px var(--color-thumb-ring);
  cursor: ew-resize;
}

/* Scrollbar styling for data grid */
@supports (-moz-appearance: none) {
  .data-grid,
  .data-grid-viewport {
    scrollbar-width: auto;
    scrollbar-color: rgba(220, 40, 40, 0.85) rgba(255, 255, 255, 0.06);
  }
}

.data-grid::-webkit-scrollbar,
.data-grid-viewport::-webkit-scrollbar {
  width: 18px;
  height: 18px;
}

.data-grid::-webkit-scrollbar-track,
.data-grid-viewport::-webkit-scrollbar-track {
  background: var(--color-data-grid-scroll-track);
  border-radius: 999px;
}

.data-grid::-webkit-scrollbar-thumb,
.data-grid-viewport::-webkit-scrollbar-thumb {
  border-radius: 999px;
  background: var(--color-brand-red);
}

/* uPlot tooltip */
.uplot-tooltip {
  position: absolute;
  top: 0;
  left: 0;
  min-width: 150px;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid var(--color-tooltip-border);
  background: var(--color-tooltip-bg);
  color: var(--color-text-main);
  pointer-events: none;
  opacity: 0;
  transition: opacity 80ms ease;
}

.uplot-tooltip strong {
  display: block;
  font-size: 0.78rem;
  letter-spacing: 0.04em;
}

.uplot-tooltip span {
  display: block;
  margin-top: 2px;
  font-family: var(--font-mono);
  font-size: 0.8rem;
}

/* uPlot styling */
.uplot .u-title {
  font-family: var(--font-sora);
  color: var(--color-text-main);
  font-size: 1rem;
}

.uplot canvas {
  background: var(--color-chart-canvas-bg);
}

.uplot .u-cursor-x,
.uplot .u-cursor-y {
  background: var(--color-cursor-line) !important;
}

/* Responsive adjustments */
@media (max-width: 980px) {
  .stats-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 640px) {
  .stats-grid {
    grid-template-columns: 1fr;
  }
}
